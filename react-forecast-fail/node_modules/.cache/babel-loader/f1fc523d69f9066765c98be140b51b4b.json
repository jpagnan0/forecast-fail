{"ast":null,"code":"/* \r\n\tOPEN WEATHER MAP WRAPPER FOR NODEJS\r\n\tAuthor: Kwabena Berko\r\n\tEmail: kwabenaberko95@gmail.com\r\n*/\nvar request = require(\"request\");\n\nfunction OpenWeatherMapHelper(config) {\n  if (!(this instanceof OpenWeatherMapHelper)) {\n    return new OpenWeatherMapHelper(config);\n  }\n\n  this.config = config;\n}\n\nfunction sendResponse(err, data, callback) {\n  var error = null;\n  var response = null;\n  error = err;\n\n  if (data) {\n    if (data.statusCode != 200) {\n      var e = JSON.parse(data.body);\n      error = new Error(e.message);\n      error.status = e.cod;\n    }\n\n    if (data.body) {\n      response = JSON.parse(data.body);\n    }\n  }\n\n  callback(error, response);\n} //CURRENT WEATHER START\n\n\nOpenWeatherMapHelper.prototype.getCurrentWeatherByCityName = function (cityName, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(cityName, \"&units=\").concat(this.config.units, \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n};\n\nOpenWeatherMapHelper.prototype.getCurrentWeatherByCityID = function (cityId, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/weather?id=\".concat(cityId, \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n};\n\nOpenWeatherMapHelper.prototype.getCurrentWeatherByGeoCoordinates = function (latitude, longitude, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(parseFloat(latitude), \"&lon=\").concat(parseFloat(longitude), \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n};\n\nOpenWeatherMapHelper.prototype.getCurrentWeatherByZipCode = function (zipCode, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/weather?zip=\".concat(zipCode.toString(), \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n}; //CURRENT WEATHER END\n//THREE HOUR FORECAST START\n\n\nOpenWeatherMapHelper.prototype.getThreeHourForecastByCityName = function (cityName, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(cityName, \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n};\n\nOpenWeatherMapHelper.prototype.getThreeHourForecastByCityID = function (cityId, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/forecast?id=\".concat(cityId, \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n};\n\nOpenWeatherMapHelper.prototype.getThreeHourForecastByGeoCoordinates = function (latitude, longitude, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/forecast?lat=\".concat(parseFloat(latitude), \"&lon=\").concat(parseFloat(longitude), \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n};\n\nOpenWeatherMapHelper.prototype.getThreeHourForecastByZipCode = function (zipCode, callback) {\n  request.get(\"https://api.openweathermap.org/data/2.5/forecast?zip=\".concat(zipCode.toString(), \"&APPID=\").concat(this.config.APPID), function (err, data) {\n    sendResponse(err, data, callback);\n  });\n}; //THREE HOUR FORECAST END\n\n\nmodule.exports = OpenWeatherMapHelper;","map":null,"metadata":{},"sourceType":"script"}